library(hamcrest)

 expected <- structure(list(breaks = c(0x0p+0, 0x1p+1, 0x1p+2, 0x1.8p+2, 0x1p+3, 
0x1.4p+3, 0x1.8p+3, 0x1.cp+3, 0x1p+4, 0x1.2p+4), counts = c(28L, 
41L, 18L, 7L, 1L, 2L, 0L, 1L, 2L), density = c(0x1.1eb851eb851ecp-3, 
0x1.a3d70a3d70a3dp-3, 0x1.70a3d70a3d70ap-4, 0x1.1eb851eb851ecp-5, 
0x1.47ae147ae147bp-8, 0x1.47ae147ae147bp-7, 0x0p+0, 0x1.47ae147ae147bp-8, 
0x1.47ae147ae147bp-7), mids = c(0x1p+0, 0x1.8p+1, 0x1.4p+2, 0x1.cp+2, 
0x1.2p+3, 0x1.6p+3, 0x1.ap+3, 0x1.ep+3, 0x1.1p+4), xname = "c(1.59782823161656, 3.33229847476224, 3.0708725325018, 2.57443295190736, 6.77648153234793, 2.84317998019559, 4.77980981648408, 4.20133598720285, 3.62030899967596, 2.52365299813383, 4.87884299684008, 2.32562012271169, 10.1759434389342, 2.81536998183695, 0.699360057678276, 2.71909789133398, 2.35478363205471, 4.3194834959823, 4.34721638033593, 3.73754153924096, 5.02072791803389, 4.1526902900875, 2.19988941199396, 3.68587047832306, 4.56625828447379, 3.88398833957977, 3.98078822475909, 0.923103306393228, 3.10158113622362, 2.85668515726777, 1.80232610064564, 1.21037359642907, 7.477529247048, 2.97798147821492, 2.16287037366231, 1.3421543048371, 3.25638224702276, 1.50773758878451, 2.51801661804104, 1.41142120043334, 0.829391032003964, 7.6368594852486, 16.6302925233611, 2.27448675760714, 1.771987649167, 0.494730366775669, 1.76396625260564, 5.37146930364381, 1.6524618423861, 7.01196127638178, 16.9767672308456, 3.21432906266582, 1.62031222388773, 6.52534624506516, 1.05801709822357, 4.83038200110289, 2.86679189118722, 3.67387431383088, 2.48850798730332, 8.01074601911254, 2.52452661240931, 1.04934237426529, 3.07052412773375, 15.4316212420737, 0.345390269019644, 7.08598251405421, 1.73299979790189, 2.05127954190196, 1.30714716111913, 5.63440107587768, 3.95411270805606, 2.63254372743848, 0.311538660098809, 5.28847879224962, 1.33696397170254, 5.05834426192525, 3.42528506445068, 4.13328164749167, 2.9293920780648, 1.42990401712867, 3.00215058896198, 1.51132945439045, 1.58281568382409, 2.5553600897445, 1.28864744535572, 3.94946437625232, 1.49495604288735, 2.08463141409513, 3.18325523372745, 5.24212985828978, 4.30314085091474, 1.89403151228043, 1.92257271148619, 3.9824388404574, 2.86786707858143, 5.67374688302879, 11.4091608240731, 4.02846554181909, 3.38404832734536, 6.88841665585214)",
    equidist = TRUE), .Names = c("breaks", "counts", "density", 
"mids", "xname", "equidist"), class = "histogram") 


assertThat(graphics:::hist.default(freq=FALSE,plot=FALSE,x=c(1.59782823161656, 3.33229847476224, 3.0708725325018, 2.57443295190736, 
6.77648153234793, 2.84317998019559, 4.77980981648408, 4.20133598720285, 
3.62030899967596, 2.52365299813383, 4.87884299684008, 2.32562012271169, 
10.1759434389342, 2.81536998183695, 0.699360057678276, 2.71909789133398, 
2.35478363205471, 4.3194834959823, 4.34721638033593, 3.73754153924096, 
5.02072791803389, 4.1526902900875, 2.19988941199396, 3.68587047832306, 
4.56625828447379, 3.88398833957977, 3.98078822475909, 0.923103306393228, 
3.10158113622362, 2.85668515726777, 1.80232610064564, 1.21037359642907, 
7.477529247048, 2.97798147821492, 2.16287037366231, 1.3421543048371, 
3.25638224702276, 1.50773758878451, 2.51801661804104, 1.41142120043334, 
0.829391032003964, 7.6368594852486, 16.6302925233611, 2.27448675760714, 
1.771987649167, 0.494730366775669, 1.76396625260564, 5.37146930364381, 
1.6524618423861, 7.01196127638178, 16.9767672308456, 3.21432906266582, 
1.62031222388773, 6.52534624506516, 1.05801709822357, 4.83038200110289, 
2.86679189118722, 3.67387431383088, 2.48850798730332, 8.01074601911254, 
2.52452661240931, 1.04934237426529, 3.07052412773375, 15.4316212420737, 
0.345390269019644, 7.08598251405421, 1.73299979790189, 2.05127954190196, 
1.30714716111913, 5.63440107587768, 3.95411270805606, 2.63254372743848, 
0.311538660098809, 5.28847879224962, 1.33696397170254, 5.05834426192525, 
3.42528506445068, 4.13328164749167, 2.9293920780648, 1.42990401712867, 
3.00215058896198, 1.51132945439045, 1.58281568382409, 2.5553600897445, 
1.28864744535572, 3.94946437625232, 1.49495604288735, 2.08463141409513, 
3.18325523372745, 5.24212985828978, 4.30314085091474, 1.89403151228043, 
1.92257271148619, 3.9824388404574, 2.86786707858143, 5.67374688302879, 
11.4091608240731, 4.02846554181909, 3.38404832734536, 6.88841665585214
),ylim=c(0, 0.2))
,  identicalTo( expected) )

