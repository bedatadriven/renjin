
# GCC Bridge Maven Plugin

The GCC Bridge Maven Plugin is intended to make C, C++ and Fortran sources first class citizens of a 
project targeting the JVM.

See the [gcc-bridge-example](https://github.com/bedatadriven/gcc-bridge-example) project on GitHub for an example
of how to use the plugin to incorporate C sources in a Maven Project.

## Development builds

At this stage, the maven plugin cannot be built using gradle, and so must be built separatetly.  You can do so with the following steps

1. Export the renjin toolchain to your local maven repository by invoking `./gradlew publishToMavenLocal` in the root folder of the Renjin project
1. Ensure the `<version>` in the `pom.xml` in this directory matches the version generated by `allprojects.project.version` in the `build.gradle` of the root folder
1. Invoke `mvn package` in this directory
1. Manually install the runtime jar into your local maven repository:
   ```mvn install:install-file -Dfile=<path to renjin>/tools/gcc-bridge/runtime/build/libs/runtime-<version>.jar -DgroupId=org.renjin -DartifactId=gcc-runtime -Dversion=<version> -Dpackaging=jar```  
    _(adapt the `<path>` and `<version>`s to suit)_  
1. Manually install the jar into your local maven repository:  
   ```mvn install:install-file -Dfile=<path to maven plugn>/target/gcc-bridge-maven-plugin-<version>.jar -DgroupId=org.renjin -DartifactId=gcc-bridge-maven-plugin -Dversion=<version> -Dpackaging=jar -DpomFile=pom.xml```  
   _(adapt the `<path>` and `<version>`s to suit)_

Some of the last steps are encapsulated in the `./dev-build.sh` bash script.  If all steps complete successfully, the `gcc-bridge-example` should now use your local toolchain to build.

